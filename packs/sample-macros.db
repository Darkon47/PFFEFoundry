{"_id":"13AHAyh9DklWxvWP","name":"Show Defenses","permission":{"default":0},"type":"script","sort":100001,"flags":{},"scope":"global","command":"game.pf1.rollDefenses();","author":"T9i9xVjdkHeFZC72","img":"systems/pf1/icons/items/armor/shield.png","actorIds":[]}
{"_id":"gurCz43HYcNYHe51","name":"Roll Players' Perception (GM)","permission":{"default":0},"type":"script","sort":100001,"flags":{},"scope":"global","command":"const skill = \"per\";\r\n\r\ngame.actors.entities.filter(o => { return o.isPC && o.data.type === \"character\"; }).forEach(o => {\r\n  o.rollSkill(skill, { event: new MouseEvent({}) });\r\n});","author":"T9i9xVjdkHeFZC72","img":"systems/pf1/icons/skills/light_02.jpg","actorIds":[]}
{"_id":"naTdQ8NRfyQEp8xh","name":"Roll Skill","permission":{"default":0},"type":"script","sort":100001,"flags":{},"scope":"global","command":"// Look at your skills to determine what you need to enter.\r\n// By default it rolls the token's Perception.\r\nconst skill = \"per\";\r\n\r\nconst speaker = ChatMessage.getSpeaker();\r\nlet actor;\r\nif (speaker.token) actor = game.actors.tokens[speaker.token];\r\nif (!actor) actor = game.actors.entities.find(o => o._id === speaker.actor);\r\nif (actor) actor.rollSkill(skill, {event: new MouseEvent({})});\r\nelse ui.notifications.warn(\"No valid actor found\");","author":"T9i9xVjdkHeFZC72","img":"systems/pf1/icons/items/inventory/dice.jpg","actorIds":[]}
{"name":"Roll Players' Will Saves","permission":{"default":0,"T9i9xVjdkHeFZC72":3},"type":"script","flags":{},"scope":"global","command":"// CONFIGURATION\r\n// Leave the actorNames array empty to guess the players\r\n// Example actorNames: `actorNames: [\"Bob\", \"John\"],`\r\nconst c = {\r\n  actorNames: [],\r\n  type: \"will\",\r\n};\r\n// END CONFIGURATION\r\n\r\nlet actors = c.actorNames.length\r\n  ? game.actors.entities.filter(o => c.actorNames.includes(o.name))\r\n  : game.actors.entities.filter(o => o.isPC);\r\nactors.forEach(o => {\r\n  o.rollSavingThrow(c.type, { event: new MouseEvent({}) });\r\n});","author":"T9i9xVjdkHeFZC72","img":"systems/pf1/icons/misc/brain.png","actorIds":[],"_id":"kYhMR1jOjQJV48qr"}
{"name":"Roll Players' Reflex Saves","permission":{"default":0,"T9i9xVjdkHeFZC72":3},"type":"script","flags":{},"scope":"global","command":"// CONFIGURATION\r\n// Leave the actorNames array empty to guess the players\r\n// Example actorNames: `actorNames: [\"Bob\", \"John\"],`\r\nconst c = {\r\n  actorNames: [],\r\n  type: \"ref\",\r\n};\r\n// END CONFIGURATION\r\n\r\nlet actors = c.actorNames.length\r\n  ? game.actors.entities.filter(o => c.actorNames.includes(o.name))\r\n  : game.actors.entities.filter(o => o.isPC);\r\nactors.forEach(o => {\r\n  o.rollSavingThrow(c.type, { event: new MouseEvent({}) });\r\n});","author":"T9i9xVjdkHeFZC72","img":"systems/pf1/icons/misc/divert.png","actorIds":[],"_id":"G09q0SERL1Y0QdZP"}
{"$$deleted":true,"_id":"kYhMR1jOjQJV48qr"}
{"$$deleted":true,"_id":"G09q0SERL1Y0QdZP"}
{"name":"Roll Players' Will Saves (GM)","permission":{"default":0,"T9i9xVjdkHeFZC72":3},"type":"script","flags":{},"scope":"global","command":"// CONFIGURATION\r\n// Leave the actorNames array empty to guess the players\r\n// Example actorNames: `actorNames: [\"Bob\", \"John\"],`\r\nconst c = {\r\n  actorNames: [],\r\n  type: \"will\",\r\n};\r\n// END CONFIGURATION\r\n\r\nlet actors = c.actorNames.length\r\n  ? game.actors.entities.filter(o => c.actorNames.includes(o.name))\r\n  : game.actors.entities.filter(o => o.isPC);\r\nactors.forEach(o => {\r\n  o.rollSavingThrow(c.type, { event: new MouseEvent({}) });\r\n});","author":"T9i9xVjdkHeFZC72","img":"systems/pf1/icons/misc/brain.png","actorIds":[],"_id":"KhmWUCYNidx9IVeF"}
{"name":"Roll Players' Reflex Saves (GM)","permission":{"default":0,"T9i9xVjdkHeFZC72":3},"type":"script","flags":{},"scope":"global","command":"// CONFIGURATION\r\n// Leave the actorNames array empty to guess the players\r\n// Example actorNames: `actorNames: [\"Bob\", \"John\"],`\r\nconst c = {\r\n  actorNames: [],\r\n  type: \"ref\",\r\n};\r\n// END CONFIGURATION\r\n\r\nlet actors = c.actorNames.length\r\n  ? game.actors.entities.filter(o => c.actorNames.includes(o.name))\r\n  : game.actors.entities.filter(o => o.isPC);\r\nactors.forEach(o => {\r\n  o.rollSavingThrow(c.type, { event: new MouseEvent({}) });\r\n});","author":"T9i9xVjdkHeFZC72","img":"systems/pf1/icons/misc/divert.png","actorIds":[],"_id":"FTnyOIndZ0YB1o4x"}
{"name":"Roll Players' Fortitude Saves (GM)","permission":{"default":0,"T9i9xVjdkHeFZC72":3},"type":"script","flags":{},"scope":"global","command":"// CONFIGURATION\r\n// Leave the actorNames array empty to guess the players\r\n// Example actorNames: `actorNames: [\"Bob\", \"John\"],`\r\nconst c = {\r\n  actorNames: [],\r\n  type: \"ref\",\r\n};\r\n// END CONFIGURATION\r\n\r\nlet actors = c.actorNames.length\r\n  ? game.actors.entities.filter(o => c.actorNames.includes(o.name))\r\n  : game.actors.entities.filter(o => o.isPC);\r\nactors.forEach(o => {\r\n  o.rollSavingThrow(c.type, { event: new MouseEvent({}) });\r\n});","author":"T9i9xVjdkHeFZC72","img":"systems/pf1/icons/misc/heart-inside.png","actorIds":[],"_id":"S64mZ0GgB1ZmO67p"}
{"$$deleted":true,"_id":"gurCz43HYcNYHe51"}
{"name":"Roll Players' Perception (GM)","permission":{"default":0,"T9i9xVjdkHeFZC72":3},"type":"script","flags":{},"scope":"global","command":"// CONFIGURATION\r\n// Leave the actorNames array empty to guess the players\r\n// Example actorNames: `actorNames: [\"Bob\", \"John\"],`\r\nconst c = {\r\n  actorNames: [],\r\n  type: \"per\",\r\n};\r\n// END CONFIGURATION\r\n\r\nlet actors = c.actorNames.length\r\n  ? game.actors.entities.filter(o => c.actorNames.includes(o.name))\r\n  : game.actors.entities.filter(o => o.isPC);\r\nactors.forEach(o => {\r\n  o.rollSkill(c.type, { event: new MouseEvent({}) });\r\n});","author":"T9i9xVjdkHeFZC72","img":"systems/pf1/icons/skills/light_02.jpg","actorIds":[],"_id":"crREoJlr8B8ulTFV"}
{"name":"Roll Will Save","permission":{"default":0,"T9i9xVjdkHeFZC72":3},"type":"script","flags":{},"scope":"global","command":"const c = {\r\n  type: \"will\",\r\n};\r\n\r\nconst speaker = ChatMessage.getSpeaker();\r\nlet actor;\r\nif (speaker.token) actor = game.actors.tokens[speaker.token];\r\nif (!actor) actor = game.actors.entities.find(o => o._id === speaker.actor);\r\n\r\nif (actor) actor.rollSavingThrow(c.type, {event: new MouseEvent({})});\r\nelse ui.notifications.warn(\"No applicable actor found\");","author":"T9i9xVjdkHeFZC72","img":"systems/pf1/icons/misc/brain.png","actorIds":[],"_id":"mEYsVwa33UCnyVxY"}
{"name":"Roll Reflex Save","permission":{"default":0,"T9i9xVjdkHeFZC72":3},"type":"script","flags":{},"scope":"global","command":"const c = {\r\n  type: \"ref\",\r\n};\r\n\r\nconst speaker = ChatMessage.getSpeaker();\r\nlet actor;\r\nif (speaker.token) actor = game.actors.tokens[speaker.token];\r\nif (!actor) actor = game.actors.entities.find(o => o._id === speaker.actor);\r\n\r\nif (actor) actor.rollSavingThrow(c.type, {event: new MouseEvent({})});\r\nelse ui.notifications.warn(\"No applicable actor found\");","author":"T9i9xVjdkHeFZC72","img":"systems/pf1/icons/misc/divert.png","actorIds":[],"_id":"ECx2ot3EqI5QJ78A"}
{"name":"Roll Fortitude Save","permission":{"default":0,"T9i9xVjdkHeFZC72":3},"type":"script","flags":{},"scope":"global","command":"const c = {\r\n  type: \"fort\",\r\n};\r\n\r\nconst speaker = ChatMessage.getSpeaker();\r\nlet actor;\r\nif (speaker.token) actor = game.actors.tokens[speaker.token];\r\nif (!actor) actor = game.actors.entities.find(o => o._id === speaker.actor);\r\n\r\nif (actor) actor.rollSavingThrow(c.type, {event: new MouseEvent({})});\r\nelse ui.notifications.warn(\"No applicable actor found\");","author":"T9i9xVjdkHeFZC72","img":"systems/pf1/icons/misc/heart-inside.png","actorIds":[],"_id":"uOanzgCfwInNhnU1"}
{"_id":"naTdQ8NRfyQEp8xh","name":"Roll Skill","permission":{"default":0},"type":"script","sort":100001,"flags":{},"scope":"global","command":"// Look at your skills to determine what you need to enter.\r\n// By default it rolls the token's Perception.\r\nconst c = {\r\n  type; \"per\",\r\n};\r\n\r\nconst speaker = ChatMessage.getSpeaker();\r\nlet actor;\r\nif (speaker.token) actor = game.actors.tokens[speaker.token];\r\nif (!actor) actor = game.actors.entities.find(o => o._id === speaker.actor);\r\nif (actor) actor.rollSkill(c.type, {event: new MouseEvent({})});\r\nelse ui.notifications.warn(\"No valid actor found\");","author":"T9i9xVjdkHeFZC72","img":"systems/pf1/icons/items/inventory/dice.jpg","actorIds":[]}
{"$$deleted":true,"_id":"KhmWUCYNidx9IVeF"}
{"$$deleted":true,"_id":"FTnyOIndZ0YB1o4x"}
{"$$deleted":true,"_id":"ECx2ot3EqI5QJ78A"}
{"$$deleted":true,"_id":"crREoJlr8B8ulTFV"}
{"$$deleted":true,"_id":"S64mZ0GgB1ZmO67p"}
{"$$deleted":true,"_id":"uOanzgCfwInNhnU1"}
{"$$deleted":true,"_id":"naTdQ8NRfyQEp8xh"}
{"$$deleted":true,"_id":"mEYsVwa33UCnyVxY"}
{"name":"Roll Saving Throw","permission":{"default":0,"T9i9xVjdkHeFZC72":3},"type":"script","flags":{},"scope":"global","command":"// CONFIGURATION\r\n// Leave the actorNames array empty to guess the players\r\n// Example actorNames: `actorNames: [\"Bob\", \"John\"],`\r\nconst c = {\r\n  actorNames: [],\r\n};\r\n// END CONFIGURATION\r\n\r\nconst tokens = canvas.tokens.controlledTokens;\r\nlet actors = tokens.map(o => o.actor);\r\nif (!actors.length && c.actorNames.length) actors = game.actors.entities.filter(o => c.actorNames.includes(o.name));\r\nif (!actors.length) actors = game.actors.entities.filter(o => o.isPC);\r\nactors = actors.filter(o => o.hasPerm(game.user, \"OWNER\"));\r\n\r\nif (!actors.length) return ui.notifications.warn(\"No applicable actor(s) found\");\r\n\r\nconst _roll = function(type) {\r\n  actors.forEach(o => {\r\n    o.rollSavingThrow(type, { event: new MouseEvent({}) });\r\n  });\r\n};\r\n\r\nconst msg = `Choose a saving throw to roll for the following actor(s): <strong>${actors.map(o => o.name).join(\"</strong>, <strong>\")}</strong>`;\r\n\r\nnew Dialog({\r\n  title: \"Roll saving throw\",\r\n  content: `<p>${msg}</p>`,\r\n  buttons: {\r\n    fort: {\r\n      label: \"Fortitude\",\r\n      callback: () => _roll(\"fort\"),\r\n    },\r\n    ref: {\r\n      label: \"Reflex\",\r\n      callback: () => _roll(\"ref\"),\r\n    },\r\n    will: {\r\n      label: \"Will\",\r\n      callback: () => _roll(\"will\"),\r\n    },\r\n  },\r\n}).render(true);","author":"T9i9xVjdkHeFZC72","img":"systems/pf1/icons/misc/heart-inside.png","actorIds":[],"_id":"WBs6fUCfxNpU7QH0"}
{"name":"Roll Skill","permission":{"default":0,"T9i9xVjdkHeFZC72":3},"type":"script","flags":{},"scope":"global","command":"// CONFIGURATION\r\n// If one or more tokens are selected, those will be used instead of the listed actors\r\n// Leave the actorNames array empty to guess the players\r\n// Example actorNames: `actorNames: [\"Bob\", \"John\"],`\r\nconst c = {\r\n  actorNames: [],\r\n  skills: [\"per\", \"sen\", \"ste\", \"sur\"],\r\n  labels: [null, null, null, null],\r\n};\r\n// END CONFIGURATION\r\n\r\nconst tokens = canvas.tokens.controlledTokens;\r\nlet actors = tokens.map(o => o.actor);\r\nif (!actors.length && c.actorNames.length) actors = game.actors.entities.filter(o => c.actorNames.includes(o.name));\r\nif (!actors.length) actors = game.actors.entities.filter(o => o.isPC);\r\nactors = actors.filter(o => o.hasPerm(game.user, \"OWNER\"));\r\n\r\nif (!actors.length) return ui.notifications.warn(\"No applicable actor(s) found\");\r\n\r\nconst _roll = function(type) {\r\n  actors.forEach(o => {\r\n    try {\r\n      o.rollSkill(type, { event: new MouseEvent({}) });\r\n    } catch (e) {}\r\n  });\r\n};\r\n\r\nconst buttons = c.skills.reduce((cur, s, a) => {\r\n  let label = c.labels[a];\r\n  if (label == null) label = CONFIG.PF1.skills[s] || \"Unknown Skill\";\r\n  cur[s] = {\r\n    label: label,\r\n    callback: () => _roll(s),\r\n  };\r\n  return cur;\r\n}, {});\r\n\r\nconst msg = `Choose a skill to roll for the following actor(s): <strong>${actors.map(o => o.name).join(\"</strong>, <strong>\")}</strong>`;\r\n\r\nnew Dialog({\r\n  title: \"Roll saving throw\",\r\n  content: `<p>${msg}</p>`,\r\n  buttons: buttons,\r\n}).render(true);","author":"T9i9xVjdkHeFZC72","img":"systems/pf1/icons/items/inventory/dice.jpg","actorIds":[],"_id":"D7ZtlwumC4OW0nFT"}
